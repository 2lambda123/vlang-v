(module
 (type $i64_i64_=>_i64 (func (param i64 i64) (result i64)))
 (type $none_=>_none (func))
 (func $main.powi (param $0 i64) (param $1 i64) (result i64)
  (local $2 i64)
  (local $3 i64)
  (local $4 i64)
  local.get $1
  local.set $2
  local.get $0
  local.set $3
  i32.const 1
  i64.extend_i32_u
  local.set $4
  local.get $2
  i64.const 0
  i64.lt_s
  if
   local.get $0
   i64.const 0
   i64.eq
   if
    i64.const -1
    return
   end
   i32.const 0
   local.get $0
   i64.const 1
   local.get $2
   i64.const 1
   i64.and
   i64.const 0
   i64.gt_s
   select
   i32.wrap_i64
   local.get $0
   local.get $0
   i64.mul
   i64.const 1
   i64.ne
   select
   i64.extend_i32_s
   return
  end
  block $B2
   loop $L2
    local.get $2
    i64.const 0
    i64.gt_s
    i32.eqz
    br_if $B2
    block $BLK3
     local.get $2
     i64.const 1
     i64.and
     i64.const 0
     i64.gt_s
     if
      local.get $4
      local.get $3
      i64.mul
      local.set $4
     end
     local.get $3
     local.get $3
     i64.mul
     local.set $3
     local.get $2
     i64.const 1
     i64.shr_s
     local.set $2
    end
    br $L2
   end
   unreachable
  end
  local.get $4
  return
 )
 (func $main.main
  nop
 )
)